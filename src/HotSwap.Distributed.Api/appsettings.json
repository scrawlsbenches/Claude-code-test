{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "HotSwap.Distributed": "Debug"
    }
  },
  "AllowedHosts": "*",
  "Kestrel": {
    "Endpoints": {
      "Http": {
        "Url": "http://localhost:5000"
      },
      "Https": {
        "Url": "https://localhost:5001",
        "Certificate": {
          "Path": "certificates/aspnetapp.pfx",
          "Password": ""
        }
      }
    },
    "Limits": {
      "MaxConcurrentConnections": 100,
      "MaxConcurrentUpgradedConnections": 100,
      "MaxRequestBodySize": 10485760,
      "KeepAliveTimeout": "00:02:00",
      "RequestHeadersTimeout": "00:00:30"
    },
    "Protocols": "Http1AndHttp2"
  },
  "Hsts": {
    "Enabled": true,
    "MaxAge": 31536000,
    "IncludeSubDomains": true,
    "Preload": false
  },
  "Serilog": {
    "Using": [ "Serilog.Sinks.Console" ],
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "Microsoft.AspNetCore": "Warning",
        "System": "Warning"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {SourceContext}: {Message:lj}{NewLine}{Exception}"
        }
      }
    ],
    "Enrich": [ "FromLogContext" ]
  },
  "Telemetry": {
    "Enabled": true,
    "ExporterType": "Console",
    "JaegerEndpoint": "http://localhost:14268/api/traces",
    "SamplingRate": 1.0
  },
  "Security": {
    "StrictMode": false
  },
  "Pipeline": {
    "MaxConcurrentPipelines": 5,
    "QaMaxConcurrentNodes": 2,
    "StagingSmokeTestTimeout": "00:05:00",
    "CanaryInitialPercentage": 10,
    "CanaryIncrementPercentage": 20,
    "CanaryWaitDuration": "00:15:00",
    "AutoRollbackOnFailure": true,
    "ApprovalTimeoutHours": 4
  },
  "RateLimiting": {
    "Enabled": true,
    "GlobalLimit": {
      "MaxRequests": 1000,
      "TimeWindow": "00:01:00"
    },
    "EndpointLimits": {
      "/api/v1/deployments": {
        "MaxRequests": 10,
        "TimeWindow": "00:01:00"
      },
      "/api/v1/clusters": {
        "MaxRequests": 60,
        "TimeWindow": "00:01:00"
      },
      "/api/v1/approvals": {
        "MaxRequests": 30,
        "TimeWindow": "00:01:00"
      },
      "/api/v1/auth": {
        "MaxRequests": 5,
        "TimeWindow": "00:01:00"
      }
    }
  },
  "SecretRotation": {
    "Enabled": true,
    "CheckIntervalMinutes": 60,
    "DefaultRotationPolicy": {
      "RotationIntervalDays": 90,
      "MaxAgeDays": 365,
      "NotificationThresholdDays": 7,
      "RotationWindowHours": 24,
      "EnableAutomaticRotation": true,
      "NotificationRecipients": []
    },
    "JwtSigningKeyPolicy": {
      "RotationIntervalDays": 30,
      "MaxAgeDays": 90,
      "NotificationThresholdDays": 7,
      "RotationWindowHours": 48,
      "EnableAutomaticRotation": true,
      "NotificationRecipients": []
    }
  }
}
